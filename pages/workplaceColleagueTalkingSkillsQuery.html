<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>èŒåœº-é—®é¢˜åŒäº‹åº”å¯¹è¯æœ¯æŸ¥è¯¢å™¨</title>
  <!-- å¼•å…¥é€šç”¨æ ·å¼ -->
  <link rel="stylesheet" href="../assets/css/common.css">
  <!-- å¼•å…¥é¡µé¢ç‰¹å®šæ ·å¼ -->
  <link rel="stylesheet" href="../assets/css/workplace-talking.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <div class="logo-text">DJ</div>
      </div>
      <h1>ğŸ¯ èŒåœºé—®é¢˜åŒäº‹åº”å¯¹è¯æœ¯æŸ¥è¯¢å™¨</h1>
      <p>é€‰æ‹©é—®é¢˜ç±»å‹å’Œåœºæ™¯ï¼Œè·å–ä¸“ä¸šåº”å¯¹è¯æœ¯</p>
    </div>
    
    <div class="content">
      <div class="form-group">
        <label for="problemType">
          <span class="step-number">1</span>
          é€‰æ‹©é—®é¢˜ç±»å‹
        </label>
        <div class="select-wrapper" id="selectWrapper1">
          <select id="problemType">
            <option value="">-- è¯·é€‰æ‹©é—®é¢˜ç±»å‹ --</option>
            <option value="1">ç”©é”…ä¾  - å‡ºé—®é¢˜å°±æ¨è´£ä»»</option>
            <option value="2">é‚€åŠŸç²¾ - æŠ¢åŠŸåŠ³çš„é«˜æ‰‹</option>
            <option value="3">å…«å¦ç‹ - åˆ°å¤„æ‰“å¬ä¼ æ’­</option>
            <option value="4">PUAå¤§å¸ˆ - æ‰“å‡»ä½ çš„è‡ªä¿¡</option>
            <option value="5">ä¼¸æ‰‹å…š - æ€»è®©ä½ å¸®å¿™</option>
            <option value="6">é˜´é˜³æ€ªæ°” - è¯´è¯å¸¦åˆº</option>
            <option value="7">è€æ²¹æ¡ - å‡ºå·¥ä¸å‡ºåŠ›</option>
            <option value="8">è¶Šç•Œè€… - ç®¡ä½ çš„é—²äº‹</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <label for="scenario">
          <span class="step-number">2</span>
          é€‰æ‹©å…·ä½“åœºæ™¯
        </label>
        <div class="select-wrapper" id="selectWrapper2">
          <select id="scenario" disabled>
            <option value="">-- è¯·å…ˆé€‰æ‹©é—®é¢˜ç±»å‹ --</option>
          </select>
        </div>
      </div>
      
      <button class="query-btn" id="queryBtn" disabled>
        ğŸ” æŸ¥è¯¢åº”å¯¹è¯æœ¯
      </button>
      
      <div class="result-box" id="resultBox">
        <div class="result-title">åº”å¯¹è¯æœ¯</div>
        <div id="resultContent"></div>
      </div>
      
      <div class="empty-state" id="emptyState">
        <div class="icon">ğŸ’¼</div>
        <p>è¯·é€‰æ‹©é—®é¢˜ç±»å‹å’Œåœºæ™¯<br>ç„¶åç‚¹å‡»æŸ¥è¯¢æŒ‰é’®</p>
      </div>
    </div>
  </div>
  
  <!-- ä½¿ç”¨æ™®é€šè„šæœ¬æ ‡ç­¾å¼•å…¥æ•°æ®æ–‡ä»¶ -->
  <script src="../js/data/colleagueTalkingData.js"></script>
  
  <script>
    // ä½¿ç”¨å…¨å±€å˜é‡colleagueTalkingData
    const data = window.colleagueTalkingData;
    
    const problemTypeSelect = document.getElementById('problemType');
    const scenarioSelect = document.getElementById('scenario');
    const selectWrapper1 = document.getElementById('selectWrapper1');
    const selectWrapper2 = document.getElementById('selectWrapper2');
    const queryBtn = document.getElementById('queryBtn');
    const resultBox = document.getElementById('resultBox');
    const resultContent = document.getElementById('resultContent');
    const emptyState = document.getElementById('emptyState');
    
    // ä¸‹æ‹‰æ¡†å±•å¼€/æ”¶èµ·åŠ¨ç”»
    problemTypeSelect.addEventListener('focus', function() {
      selectWrapper1.classList.add('active');
    });
    
    problemTypeSelect.addEventListener('blur', function() {
      selectWrapper1.classList.remove('active');
    });
    
    scenarioSelect.addEventListener('focus', function() {
      selectWrapper2.classList.add('active');
    });
    
    scenarioSelect.addEventListener('blur', function() {
      selectWrapper2.classList.remove('active');
    });
    
    problemTypeSelect.addEventListener('change', function() {
      const typeId = this.value;
      
      scenarioSelect.innerHTML = '<option value="">-- è¯·é€‰æ‹©å…·ä½“åœºæ™¯ --</option>';
      queryBtn.disabled = true;
      resultBox.classList.remove('show');
      emptyState.style.display = 'block';
      
      if (typeId && data[typeId]) {
        const scenarios = data[typeId].scenarios;
        scenarios.forEach((scenario, index) => {
          const option = document.createElement('option');
          option.value = index;
          option.textContent = scenario.name;
          scenarioSelect.appendChild(option);
        });
        
        scenarioSelect.disabled = false;
      } else {
        scenarioSelect.disabled = true;
      }
    });
    
    scenarioSelect.addEventListener('change', function() {
      const scenarioIndex = this.value;
      
      if (scenarioIndex !== '') {
        queryBtn.disabled = false;
      } else {
        queryBtn.disabled = true;
      }
      
      resultBox.classList.remove('show');
      emptyState.style.display = 'block';
    });
    
    queryBtn.addEventListener('click', function() {
      const typeId = problemTypeSelect.value;
      const scenarioIndex = scenarioSelect.value;
      
      if (typeId && scenarioIndex !== '') {
        const typeData = data[typeId];
        const scenario = typeData.scenarios[scenarioIndex];
        
        let html = '<div class="scenario-info"><h3>ğŸ“‹ åœºæ™¯æè¿°</h3><p>' + scenario.description + '</p><h3 style="margin-top: 15px;">ğŸ’­ å¯¹æ–¹è¯´</h3><div class="quote">"' + scenario.quote + '"</div><h3 style="margin-top: 15px;">ğŸ” å®é™…æƒ…å†µ</h3><div class="reality">' + scenario.reality + '</div></div><div class="responses"><h3>ğŸ’¡ åº”å¯¹è¯æœ¯ï¼ˆ' + scenario.responses.length + 'ç§ï¼‰</h3>';
        
        scenario.responses.forEach((response, index) => {
          html += '<div class="response-item"><h4>è¯æœ¯ ' + (index + 1) + '</h4><p>"' + response + '"</p></div>';
        });
        
        html += '</div>';
        
        resultContent.innerHTML = html;
        resultBox.classList.add('show');
        emptyState.style.display = 'none';
        
        setTimeout(() => {
          resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
      }
    });
  </script>
</body>
</html>